{
  "name": "@spending-monitor/db",
  "private": true,
  "version": "0.0.0",
  "scripts": {
    "dev": "pnpm db:start && pnpm upgrade && pnpm db:logs; EXIT_CODE=$?; pnpm db:stop && exit $EXIT_CODE",
    "db:start": "podman compose up -d || docker compose up -d",
    "db:stop": "podman compose down || docker compose down",
    "db:logs": "podman compose logs -f postgres || docker compose logs -f postgres",
    "db:restart": "podman compose down && podman compose up -d",
    "db:remove": "podman compose down -v",
    "upgrade": "uv run alembic upgrade head",
    "downgrade": "uv run alembic downgrade -1",
    "revision": "uv run alembic revision --autogenerate",
    "history": "uv run alembic history",
    "current": "uv run alembic current",
    "install:deps": "uv sync --extra dev",
    "seed": "uv run python -m db.scripts.seed",
    "seed:transactions_last_hour": "uv run python -m db.scripts.transactions_last_hour",
    "verify": "uv run python -m db.scripts.verify_user",
    "reset": "uv run python -m db.scripts.reset_database",
    "reset:confirm": "echo 'WARNING: This will delete ALL data from the database!' && read -p 'Type YES to confirm: ' confirm && [ \"$confirm\" = \"YES\" ] && pnpm reset || echo 'Reset cancelled'",
    "test": "uv run pytest"
  }
}
